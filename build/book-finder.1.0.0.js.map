{"version":3,"sources":["webpack:///webpack/bootstrap eebe3542a17a8051421c","webpack:///./js/main.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;;AAEA,kC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,qC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kB;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wBAAuB,cAAc;AACrC;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,iD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;;AAEA,IAAG;;AAEH,yD;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;AACH,EAAC","file":"book-finder.1.0.0.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eebe3542a17a8051421c\n **/","function emptyElement(element) {\n  return $(element).empty();\n}\n\nfunction getSuggestions(bookTitle) {\n  var params = {\n    q: bookTitle,\n    type: \"books\",\n    limit: 5,\n    k: \"233177-bookfind-G83JWAJK\",\n    callback: \"?\"\n  };\n\n  $.ajax({\n    url: \"https://www.tastekid.com/api/similar?\",\n    data: params,\n    dataType: \"jsonp\",\n    type: \"GET\",\n  })\n  .done(function(results) {\n    var suggestionResults = results.Similar.Results;\n\n    if (suggestionResults.length > 0) {\n      var successHeading = 'Books similar to <em>' + bookTitle + '</em>:';\n      createResultsHeading(successHeading);\n    } else {\n      var errorHeading = 'Oops! No results were found for <em>' + bookTitle +\n        '</em>. Please try another search.';\n      createResultsHeading(errorHeading);\n    }\n\n    $.each(suggestionResults, function(index, item) {\n      var book = getBookInfo(item.Name);\n    });\n  });\n}\n\nfunction createResultsHeading(message) {\n  $('.results-heading').html(message);\n}\n\nfunction getBookInfo(bookTitle) { \n  var param = {\n    q: bookTitle,\n    key: \"AIzaSyD6ur9ubG33m5ZcajPZVnS-ofqwg9wR4xs\",\n  };\n\n  var googleURL = \"https://www.googleapis.com/books/v1/volumes?\";\n\n  $.ajax({\n    url: googleURL,\n    data: param,\n  })\n  .done(function(results) {\n    $.each(results.items, function(index, item) {\n      var thisBookInfo = item.volumeInfo;\n\n      //returns info for ONLY the book title that matches the query\n      if (thisBookInfo.title.toLowerCase() === bookTitle.toLowerCase()) {\n        console.log(thisBookInfo);\n        createBookHTML(thisBookInfo);\n        return false;\n      }\n    });\n  });\n}\n\n// TO DO : refactor when I find the time\nfunction createBookHTML(bookTitle) {\n\n  var $thisBookHTML = $('.template li').clone();\n\n  var author = bookTitle.authors[0];\n  var publishDate = bookTitle.publishedDate;\n  var infoLink = bookTitle.infoLink; \n  var title = bookTitle.title;\n  var description = bookTitle.description;\n  var publisher =   validateInfo(bookTitle, 'publisher', bookTitle.publisher, 'Unknown Publisher');\n  var pageCount = validateInfo(bookTitle, 'pageCount', bookTitle.pageCount + 'pgs.', 'Page Info Unavailable');\n\n  // Special test for image availability\n  if (!bookTitle.hasOwnProperty('imageLinks')) {\n    var imageURL = 'assets/images/no-image.png';\n  } else {\n    var imageURL = bookTitle.imageLinks.thumbnail;\n  }\n\n  $thisBookHTML.find('a').attr('href', infoLink)\n  $thisBookHTML.find('a h3').text(title);\n  $thisBookHTML.find('.author').text(author);\n  $thisBookHTML.find('.thumbnail').attr('src', imageURL);\n  $thisBookHTML.find('.pub-info').text(publishDate + ' by ' + publisher);\n  $thisBookHTML.find('.pages').text(pageCount);\n  $thisBookHTML.find('p').text(description);\n\n  $('.books-list').append($thisBookHTML);\n}\n\nfunction validateInfo(bookTitle, property, success, failure) {\n  var value = '';   \n\n  if(!bookTitle.hasOwnProperty(property)) {\n    console.log(bookTitle.title + ' fail')\n    value = failure;\n  } else {\n    console.log(bookTitle.title + ' success');\n    value = success;\n  }\n\nreturn value;\n}\n\nfunction moveHeader() {\n  $('header').animate({ margin: \"0\" }, 200, function() {\n    $(this).css('position', 'fixed');\n  });\n}\n\nfunction hide(selector) {\n  $(selector).not('.hidden').addClass('hidden');\n}\n\n/*------------------------------------------------------------------------------------------------*/\n$(document).ready(function() {\n\n  $('#search-book').submit(function(event) {\n    event.preventDefault();\n    \n    var $search = $('#search-book input').val(); \n    var emptyBooksList = emptyElement('.books-list');\n\n    if ($search.length > 3) {\n      emptyBooksList;\n      $('.search-results').css('padding-top', '148px');\n\n      getSuggestions($search);\n      moveHeader();\n\n      $('#search-book input').val('');\n    } else {\n      emptyBooksList;\n      createResultsHeading('Please enter a search term greater than 3 characters.');\n    }\n\n  });\n\n  $('.books-list').on('click', '.see-more', function() {  \n    hide('.dropdown');\n    $('.see-more.hidden').removeClass('hidden');\n\n    hide(this);\n    $(this).siblings('.dropdown').removeClass('hidden');\n  });\n\n  $('.books-list').on('click', '.see-less', function() {\n    hide('.dropdown');\n    $(this).parents().siblings('.see-more').removeClass('hidden');\n  });\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/main.js\n ** module id = 0\n ** module chunks = 0\n **/"],"sourceRoot":""}